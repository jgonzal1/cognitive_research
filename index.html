<!DOCTYPE html>
<meta charset="utf-8">

<head>
    <!--<link rel="stylesheet" href="front-end/jqcloud.css">-->
    <link rel="stylesheet" href="front-end/bootstrap.min.css">
    <link rel="stylesheet" href="front-end/jquery-ui.css">
    <link rel="stylesheet" href="front-end/style.css">

    <title>Power Braining</title>
    <link rel="icon" type="image/x-icon" href="front-end/dumbo.ico">

    <script src="dummy_list.js"></script>
    <script src="back-end/set_option_to_dom.js"></script>
    <script src="back-end/run_simulation.js"></script>
    <script src="front-end/jquery.3.4.1.min.js"></script>
    <script src="front-end/popper.min.js"></script>
    <script src="front-end/bootstrap.min.js"></script>
    <!--<script src="front-end/jqcloud.js"></script>-->
</head>

<body>
    <!-- DOM -->
    <table>
        <tr>
            <td>
                <div class="container p-3 my-3 border" id="main_container">
                    <h2>Power Braining</h2>
                    <table class="table-bordered" style="background-color: #EEEEEE;">
                        <tr>
                            <td class="header_col">
                                Ejercicio
                            </td>
                            <td>
                                <div>
                                    <!--<label for="exercise_selection"></label>-->
                                    <select class="form-control" id="exercise_selection">
                                        <option>Memoria</option>
                                        <option>Aritmética</option>
                                        <option style="color:#CCCCCC">Álgebra</option>
                                        <option>Puzzle visual</option>
                                    </select>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="header_col">
                                Elemento a memorizar
                            </td>
                            <td>
                                <div style="margin-bottom: 0px;">
                                    <!--<label for="element_selection"></label>-->
                                    <select class="form-control" id="element_selection">
                                        <option>Matrices</option>
                                        <option>Figuras</option><!-- (3) -->
                                        <option>Colores</option><!-- (6) -->
                                        <option>Números</option><!-- (3 cifras) -->
                                    </select>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="header_col">
                                Tiempo de exposición
                            </td>
                            <td style="padding-bottom: 0px;">
                                <input type="range" class="custom-range" id="exposition_seconds_slider">
                                <p data-toggle="tooltip" style="position:relative; top:-12px; margin-bottom: -12px;" title="Cálculo aproximado. La precisión dependerá de la capacidad de refresco de tu pantalla">Segundos: <span id="exposition_seconds_placeholder"></span></p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Parámetros
                            </td>
                            <td>
                                <div style="height:1px"></div>
                                Matriz
                                <span class="dropdown left">
                                    <button type="button" id="matrix_size" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                                        3x3
                                    </button>
                                    <div class="dropdown-menu" id="matrix_size_dropdown">
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("3x3", "matrix_size")'>3x3</a>
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("4x4", "matrix_size")'>4x4</a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("5x5", "matrix_size")'>5x5</a>
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("6x6", "matrix_size")'>6x6</a>
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("7x7", "matrix_size")'>7x7</a>
                                        <!--<a class="dropdown-item" href="#" onClick='setOptionToDom("8x8", "matrix_size")'>8x8</a>-->
                                    </div>
                                </span> de
                                <span id="elements_number_dropdown_span" class="dropdown left">
                                    <button type="button" id="elements_number" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                                        3
                                </button>
                                    <div class="dropdown-menu" id="elements_number_dropdown">
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("1", "elements_number")'>1</a>
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("2", "elements_number")'>2</a>
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("3", "elements_number")'>3</a>
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("4", "elements_number")'>4</a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("5", "elements_number")'>5</a>
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("6", "elements_number")'>6</a>
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("7", "elements_number")'>7</a>
                                        <a class="dropdown-item" href="#" onClick='setOptionToDom("8", "elements_number")'>8</a>
                                    </div>
                                </span>
                                <span id="elements_number_slider_span" style="padding-bottom: 0px; display:none;">
                                    <input type="range" class="custom-range" id="elements_number_slider">
                                    <p data-toggle="tooltip" style="position:relative; top:-12px; margin-bottom: -12px;"><span id="elements_number_placeholder"></span></p>
                                </span>
                                elementos.
                                <div style="height:1px"></div>
                            </td>
                        </tr>
                    </table>
                    <div style="height: 10px;"></div>
                    <!--
                    Create a div where the graph will take place
                    <div id="dummy_list_word_cloud_placeholder"></div>
                    -->
                    <br>
                    <button id="run_simulation_button" class="btn btn-primary bottom-buttons" onClick="run_simulation()">Simular ejercicio</button>
                    <!-- btn-success o btn-danger -->
                    <br><br>
                    <div class="alert alert-success alert-dismissible fade show" style="display:none">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        <strong>¡Guardado!</strong> Cambios guardados.
                    </div>
                </div>
            </td>
            <td class="overflow-scroll-gradient">
                <div id="title_placeholder"></div>
                <div id="exercise_placeholder">
                </div>
            </td>
        </tr>
    </table>

    <script src="front-end/jquery-ui.js"></script>

    <script>
        $(document).ready(function() {
            $('[data-toggle="tooltip"]').tooltip();
        });
        const exposition_seconds_slider = document.getElementById("exposition_seconds_slider");
        const exposition_seconds = document.getElementById("exposition_seconds_placeholder");
        exposition_seconds.innerText = 2; // initial value (defaults 50)
        exposition_seconds_slider.oninput = function() {
            exposition_seconds.innerText = (this.value / 25) + 0.001;
        }

        const matrix_size_dropdown = document.getElementById("matrix_size_dropdown");
        matrix_size_dropdown.onmouseout = function() {
            const matrix_size = parseInt(document.getElementById("matrix_size").innerText.substring(0, 1));
            if (matrix_size < 5) {
                document.getElementById("elements_number_dropdown_span").style.display = "inline"
                document.getElementById("elements_number_slider_span").style.display = "none"
            } else {
                document.getElementById("elements_number_dropdown_span").style.display = "none"
                document.getElementById("elements_number_slider_span").style.display = "inline"
            }
        }

        const elements_number_slider = document.getElementById("elements_number_slider");
        const elements_number = document.getElementById("elements_number_placeholder");
        elements_number.innerText = 25; // initial value (defaults 50)
        elements_number_slider.oninput = function() {
            elements_number.innerText = this.value / 2;
        }

        const milliseconds_in_a_day = 1000 * 60 * 60 * 24;
        new Date(new Date() - new Date(2020, 2, 3)) / (1000 * 60 * 60 * 24); // diferencia en días
        var myTags = dummy_list.map(function(el) {
            return {
                text: el["name"],
                weight: Math.round(new Date(el["endDate"] - el["startDate"]) / milliseconds_in_a_day)
            }
        });
        /*word_cloud $("#dummy_list_word_cloud_placeholder").jQCloud(
            myTags, {
                //Assuming 20 days the most for a task
                fontSize: Array.from({
                    length: 20
                }, (v, i) => 21 - i)
            }
        );*/
    </script>
</body>

</html>